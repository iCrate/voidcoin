{% extends "blockchain_base.html" %}
{% block title %}Transactions{% endblock title %}
{% block introduction %}{% endblock introduction %}
{% load static %}

{% block content_content %}

<div class='container siteuser-index-heading'>
    <div class='row'>
        <h3 class='float-left'>Transactions</h3>
    </div>
</div>

<h4>Transactions on the blockchain - CHAIN</h4>

<div class="table-responsive">
    <table class="table">
        <thead class="thead-dark">
            <caption>Blockchain transactions</caption>
            <tr>
                <th>S/No.</th>
                <th>Block number</th>
                <th>Recipient</th>
                <th>Sender</th>
                <th>Amount</th>
                <th>Timestamp</th>
            </tr>
        </thead>
        <tbody>
        {% for block in blockchain.chain %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ block.index }}</td>
                {% for transaction in block.transactions %}
                    <td>{{ transaction.recipient_address }}</td>
                    <td>{{ transaction.sender_address }}</td>
                    <td>{{ transaction.amount }}</td>
                    <td>{{ transaction.timestamp }}</td>
                {% endfor %}
            </tr>
        {% empty %}
            <p>No blocks on the chain</p>
        {% endfor %}
        </tbody>
    </table>
</div>

<hr>
<h4>Transactions on the blockchain</h4>

<div class="table-responsive">
    <table class="table">
        <thead class="thead-dark">
            <caption>Blockchain transactions</caption>
            <tr>
                <th>S/No.</th>
                <th>Recipient</th>
                <th>Sender</th>
                <th>Amount</th>
                <th>Timestamp</th>
            </tr>
        </thead>
        <tbody>
        {% for transaction in blockchain_transactions %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ transaction.recipient_address }}</td>
                <td>{{ transaction.sender_address }}</td>
                <td>{{ transaction.amount }}</td>
                <td>{{ transaction.timestamp }}</td>
            </tr>
        {% empty %}
            <p>No blocks on the blockchain</p>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock content_content %}
{% block footer %}{% endblock footer %}

